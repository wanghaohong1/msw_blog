(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{328:function(v,_,t){"use strict";t.r(_);var a=t(4),l=Object(a.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"微服务架构与运维实践"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#微服务架构与运维实践"}},[v._v("#")]),v._v(" 微服务架构与运维实践")]),v._v(" "),_("p",[v._v("随着业务复杂度提升，微服务能够带来灵活的扩展与迭代速度，但也带来部署、治理、观测的挑战。本笔记总结从服务拆分、基础设施到运维体系的关键知识点。")]),v._v(" "),_("h2",{attrs:{id:"架构设计原则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#架构设计原则"}},[v._v("#")]),v._v(" 架构设计原则")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("按业务能力拆分")]),v._v("：以业务领域与团队边界为准，避免技术维度拆分导致依赖混乱。")]),v._v(" "),_("li",[_("strong",[v._v("服务自治")]),v._v("：每个服务独立数据库、配置、部署流程，保持高内聚低耦合。")]),v._v(" "),_("li",[_("strong",[v._v("接口契约化")]),v._v("：定义清晰的 API、事件消息契约，维持兼容性与可演进性。")]),v._v(" "),_("li",[_("strong",[v._v("容错与降级")]),v._v("：预设失败场景，设计限流、熔断、降级策略，确保核心功能可用。")])]),v._v(" "),_("h2",{attrs:{id:"核心组件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#核心组件"}},[v._v("#")]),v._v(" 核心组件")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("服务网关")]),v._v(" "),_("ul",[_("li",[v._v("提供统一入口、鉴权、流控、日志审计。")]),v._v(" "),_("li",[v._v("常见实现：Spring Cloud Gateway、Kong、APISIX、Nginx + Lua。")])])]),v._v(" "),_("li",[_("strong",[v._v("服务注册/发现")]),v._v(" "),_("ul",[_("li",[v._v("管理服务实例生命周期，搭配健康检查与权重路由。")]),v._v(" "),_("li",[v._v("选型：Nacos、Eureka、Consul、Zookeeper。")])])]),v._v(" "),_("li",[_("strong",[v._v("配置中心")]),v._v(" "),_("ul",[_("li",[v._v("集中管理环境配置、敏感信息，支持灰度配置。")]),v._v(" "),_("li",[v._v("选型：Nacos Config、Apollo、Spring Cloud Config。")])])]),v._v(" "),_("li",[_("strong",[v._v("服务通信")]),v._v(" "),_("ul",[_("li",[v._v("HTTP/REST：通用易用，适合对外接口。")]),v._v(" "),_("li",[v._v("gRPC/Dubbo：高性能二进制协议，适合内部调用。")]),v._v(" "),_("li",[v._v("事件驱动：基于 Kafka、RocketMQ，解耦业务并支持回溯。")])])])]),v._v(" "),_("h2",{attrs:{id:"交付与运维流水线"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#交付与运维流水线"}},[v._v("#")]),v._v(" 交付与运维流水线")]),v._v(" "),_("ol",[_("li",[_("strong",[v._v("CI/CD 流程")]),v._v(" "),_("ul",[_("li",[v._v("代码提交触发单元、集成测试。")]),v._v(" "),_("li",[v._v("构建 Docker 镜像并扫描漏洞（Trivy、Clair）。")]),v._v(" "),_("li",[v._v("使用 Jenkins、GitLab CI、Argo CD 完成部署审批与执行。")])])]),v._v(" "),_("li",[_("strong",[v._v("容器与编排")]),v._v(" "),_("ul",[_("li",[v._v("Dockerfile 定义镜像，关注镜像层次、运行用户、安全加固。")]),v._v(" "),_("li",[v._v("Kubernetes 管理服务，配置 Deployment、Service、Ingress、HPA。")]),v._v(" "),_("li",[v._v("配置 ConfigMap、Secret、StatefulSet 满足有状态服务需求。")])])]),v._v(" "),_("li",[_("strong",[v._v("环境治理")]),v._v(" "),_("ul",[_("li",[v._v("区分开发、测试、预发、生产环境，配置隔离的资源与网络。")]),v._v(" "),_("li",[v._v("灰度发布：基于流量权重、标签、蓝绿部署等策略。")])])])]),v._v(" "),_("h2",{attrs:{id:"可观测性体系"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#可观测性体系"}},[v._v("#")]),v._v(" 可观测性体系")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("监控")]),v._v("：Prometheus + Grafana 建立指标采集与告警，关注 QPS、延迟、错误率、资源利用率。")]),v._v(" "),_("li",[_("strong",[v._v("日志")]),v._v("：使用 ELK/EFK 或 Loki + Promtail，实现集中化检索与追踪。")]),v._v(" "),_("li",[_("strong",[v._v("链路追踪")]),v._v("：SkyWalking、Jaeger 提供分布式追踪，定位跨服务瓶颈。")]),v._v(" "),_("li",[_("strong",[v._v("告警策略")]),v._v("：设置多级告警（延迟、错误、指标阈值、资源），支持值班轮值与告警收敛。")])]),v._v(" "),_("h2",{attrs:{id:"安全与合规"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#安全与合规"}},[v._v("#")]),v._v(" 安全与合规")]),v._v(" "),_("ul",[_("li",[v._v("鉴权与认证：统一身份认证（SSO）、OAuth2.0、JWT。")]),v._v(" "),_("li",[v._v("传输安全：全站 HTTPS、服务间 mTLS、证书自动化管理（Let's Encrypt）。")]),v._v(" "),_("li",[v._v("数据安全：敏感信息加密，审计日志留存，满足合规要求（如等保、GDPR）。")]),v._v(" "),_("li",[v._v("权限管理：RBAC + ABAC 结合，明确资源访问界限。")])]),v._v(" "),_("h2",{attrs:{id:"常见挑战与应对"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常见挑战与应对"}},[v._v("#")]),v._v(" 常见挑战与应对")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("服务膨胀")]),v._v("：定期回顾服务拆分边界，合并过度细粒度服务。")]),v._v(" "),_("li",[_("strong",[v._v("调用链复杂")]),v._v("：建立拓扑图，自动化生成依赖矩阵。")]),v._v(" "),_("li",[_("strong",[v._v("资源成本上升")]),v._v("：使用弹性伸缩与非高峰缩容策略。")]),v._v(" "),_("li",[_("strong",[v._v("跨团队协作")]),v._v("：实施 DevOps 文化，建立统一文档与接口评审流程。")])]),v._v(" "),_("h2",{attrs:{id:"自查清单"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#自查清单"}},[v._v("#")]),v._v(" 自查清单")]),v._v(" "),_("ul",[_("li",[v._v("是否具备自动化部署与回滚方案？回滚耗时是否可控？")]),v._v(" "),_("li",[v._v("是否建立统一可观测性平台并覆盖核心指标？")]),v._v(" "),_("li",[v._v("是否对关键服务设置熔断、限流、重试及降级策略？")]),v._v(" "),_("li",[v._v("是否评估过服务拆分后的数据一致性方案与事务边界？")])]),v._v(" "),_("h2",{attrs:{id:"推荐资料"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#推荐资料"}},[v._v("#")]),v._v(" 推荐资料")]),v._v(" "),_("ul",[_("li",[v._v("《微服务设计》《Kubernetes 权威指南》")]),v._v(" "),_("li",[v._v("CNCF Landscape 与 Cloud Native TrailMap")]),v._v(" "),_("li",[v._v("Google SRE Handbook、阿里巴巴中台实践文章")]),v._v(" "),_("li",[v._v("开源项目："),_("code",[v._v("istio/istio")]),v._v("、"),_("code",[v._v("apache/dubbo")]),v._v("、"),_("code",[v._v("apache/rocketmq")])])])])}),[],!1,null,null,null);_.default=l.exports}}]);