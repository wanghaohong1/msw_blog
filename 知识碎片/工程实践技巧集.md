# 工程实践技巧集

## 开发效率
- 使用 `todo`/`fixme` 注释配合 IDE 待办面板，避免遗漏。
- 建立常用脚本仓库（构建、发布、压测、数据导入导出）。
- 代码评审关注“三问”：为什么改、怎么改、如何验证。

## 接口设计
- 返回统一结构：`code` + `message` + `data`，错误语义更清晰。
- 入参强校验，避免脏数据进入核心流程。
- 对外接口补充速率限制、签名/鉴权与防重机制。

## 配置管理
- YAML 中敏感信息使用占位符，真实值交给配置中心或密钥服务。
- 设置默认值与兜底策略，避免配置缺失导致启动失败。
- 重要配置变更需配合灰度和回滚预案。

## 日志与追踪
- 使用 `traceId` 串联调用链，日志打印遵循格式化输出。
- 区分 INFO/WARN/ERROR，WARN 表示可恢复但需关注的问题。
- 定期清理无用日志字段，确保检索高效。

## 安全与合规
- 所有文件上传必须校验类型与大小，并使用对象存储/内网隔离。
- 外部回调接口加 IP 白名单、token 双重校验。
- 定期审计依赖库安全公告，及时升级修复。

## 运维协作
- 发布前在预发环境跑回归、自测清单签字。
- 关键操作（扩容、迁移、切流）提前拉通 SRE 与业务方。
- 故障复盘总结需要输出级别、损失评估与改进项跟踪。

